(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{482:function(t,e,o){},524:function(t,e,o){"use strict";o(482)},575:function(t,e,o){"use strict";o.r(e);o(36),o(15);var r=o(5),n=o(12);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l,v={data:function(){return{tab:"account",showForm:!1,data:{},archiveData:{orders:[]},reason_popup:!1,userInfo:{name:"",phone:"",email:""}}},methods:{update_user:function(){var t=this,form={};form.customer_id=this.$store.state.cartAjax.customer_id,form.customer_session=this.$store.state.cartAjax.customer_session,form.full_name=this.userInfo.name,form.email=this.userInfo.email,form.phone=this.userInfo.phone,this.$store.dispatch("cartAjax/actCartAjax",{method:"post",url:"/customer/update-customer",token:this.$store.state.cartAjax.customer_token,params:form}).then((function(e){t.reason_popup=!1,1==e.success?t.getData():t.$toast.error(e.message)})).catch((function(e){t.reason_popup=!1,t.$toast.error("error updating information",e)}))},tabChange:function(t){this.tab=t,this.$router.push({query:d(d({},this.$route.query),{},{tab:t})})},showAddressform:function(){this.showForm=!this.showForm},logOut:(l=Object(r.a)(regeneratorRuntime.mark((function t(){var form,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(form={}).customer_id=this.$store.state.cartAjax.customer_id,form.customer_session=this.$store.state.cartAjax.customer_session,this.$store.dispatch("cartAjax/actCartAjax",{method:"post",url:"/customer/logout",token:this.$store.state.cartAjax.customer_token,params:form}).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:$cookies.remove(window.location.hostname.substring(10,4)+"_cart_token"),$cookies.remove(window.location.hostname.substring(10,4)+"_cart_session"),$cookies.remove(window.location.hostname.substring(10,4)+"_cart_id"),$cookies.remove(window.location.hostname.substring(10,4)+"_customer_session"),$cookies.remove(window.location.hostname.substring(10,4)+"_customer_id"),$cookies.remove(window.location.hostname.substring(10,4)+"_customer_token"),e.$toast.success("You have been successfully logout. See you soon!"),location.reload();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log("error from the log out page",t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),getArchiveData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var form,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,form={customer_id:t.$store.state.cartAjax.customer_id,customer_session:t.$store.state.cartAjax.customer_session,store:t.$store.state.list.store},e.next=4,t.$store.dispatch("cartAjax/actCartAjax",{method:"post",url:"/customer/archive-order",token:t.$store.state.cartAjax.customer_token,params:form});case 4:if(!(o=e.sent).success){e.next=9;break}t.archiveData=o.data,e.next=10;break;case 9:throw"error form the api ".concat(o.message);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),t.$globalError("this is from getOrder (track order) >>>> ".concat(e.t0)),"Network Error"===e.t0.message&&t.$toast.error("Oops there seems to be some Network issue, please try again."),console.log("error form the get order page",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))()},getData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var form,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,form={customer_id:t.$store.state.cartAjax.customer_id,customer_session:t.$store.state.cartAjax.customer_session,store:t.$store.state.list.store},e.next=4,t.$store.dispatch("cartAjax/actCartAjax",{method:"post",url:"/customer/account-details",token:t.$store.state.cartAjax.customer_token,params:form});case 4:if(!(o=e.sent).success){e.next=12;break}t.data=o.data,t.data.full_name&&""!=t.data.full_name&&(t.userInfo.name=t.data.full_name),t.data.phone&&""!=t.data.phone&&(t.userInfo.phone=t.data.phone),t.data.email&&""!=t.data.email&&(t.userInfo.email=t.data.email),e.next=13;break;case 12:throw"error form the api ".concat(o.message);case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),t.$globalError("this is from getOrder (track order) >>>> ".concat(e.t0)),"Network Error"===e.t0.message&&t.$toast.error("Oops there seems to be some Network issue, please try again."),console.log("error form the get order page",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()}},mounted:function(){this.$route.query.tab&&(this.tab=this.$route.query.tab),""!=this.$store.state.cartAjax.customer_session||""!=this.$store.state.cartAjax.customer_id?(this.getData(),this.getArchiveData()):this.$router.push("/login")}},_=(o(524),o(7)),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("client-only",[o("div",{staticClass:"account-over-view-wrapper"},[o("div",{staticClass:"account-left-div"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"acooutnt-tab-list-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Your Hamleys"),o("br"),t._v("\n                account")]),t._v(" "),o("ul",{staticClass:"acount-option-list"},[o("li",[o("a",{staticClass:"poppins-semi-bold",class:{active:"account"==t.tab},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tabChange("account")}}},[t._v("Account Overview")])]),t._v(" "),o("li",[o("a",{staticClass:"poppins-semi-bold",class:{active:"order"==t.tab},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tabChange("order")}}},[t._v("Your orders and returns")])]),t._v(" "),o("li",[o("a",{staticClass:"poppins-semi-bold",class:{active:"address"==t.tab},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tabChange("address")}}},[t._v("Address book")])]),t._v(" "),o("li",[o("a",{staticClass:"poppins-semi-bold",class:{active:"archive"==t.tab},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tabChange("archive")}}},[t._v("Archive Orders")])]),t._v(" "),o("li",[o("a",{staticClass:"poppins-semi-bold",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logOut(e)}}},[t._v("Sign out")])])])])])])])]),t._v(" "),this.data.phone?o("div",{staticClass:"account-right-div"},[o("div",{directives:[{name:"show",rawName:"v-show",value:"order"==this.tab,expression:"this.tab=='order'"}],staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Your Orders")]),t._v(" "),o("div",{staticClass:"accouunt-tab-detail-div"},[o("h4",{staticClass:"checkout-in-item-bag poppins-semi-bold mt-0"},[t._v("Your "+t._s(this.data.orders.length)+" items 🎒")]),t._v(" "),o("table",{staticClass:"table order-table table-responsive"},[o("thead",[o("tr",[o("th",{staticClass:"font-bold"},[t._v("Order #")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Date")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Ship To")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Order Total")]),t._v(" "),o("th",{staticClass:"text-right font-bold"},[t._v("Action")])])]),t._v(" "),o("tbody",[t._l(this.data.orders,(function(e,i){return o("tr",{key:i},[o("td",{staticClass:"order",domProps:{textContent:t._s(e.fynd_order_id)}}),t._v(" "),o("td",{staticClass:"order-date",domProps:{textContent:t._s(e.order_date)}}),t._v(" "),o("td",{staticClass:"name",domProps:{textContent:t._s(e.shipping_name)}}),t._v(" "),o("td",{staticClass:"total"},[o("span",{staticClass:"rupees-icon"},[t._v("₹")]),t._v(" "+t._s(e.grand_total))]),t._v(" "),o("td",{staticClass:"action text-right"},[o("nuxt-link",{staticStyle:{color:"#cf102d","text-decoration":"underline"},attrs:{to:"order/"+e.order_quote_id}},[t._v("View & Track")])],1)])})),t._v(" "),this.data.orders.length?t._e():o("tr",[o("td",[t._v("No order found")])])],2)])])])])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"archive"==this.tab,expression:"this.tab=='archive'"}],staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Your Archived Orders")]),t._v(" "),o("div",{staticClass:"accouunt-tab-detail-div"},[o("h4",{staticClass:"checkout-in-item-bag poppins-semi-bold mt-0"},[t._v("Your "+t._s(this.archiveData.orders.length)+" items 🎒")]),t._v(" "),o("table",{staticClass:"table order-table table-responsive"},[o("thead",[o("tr",[o("th",{staticClass:"font-bold"},[t._v("Product")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Product Name")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Sku")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Order Date")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Invoice Number")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Order Id")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Ship To")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Total")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Status")])])]),t._v(" "),o("tbody",[t._l(this.archiveData.orders,(function(e,i){return o("tr",{key:i},[o("td",{staticClass:"order",staticStyle:{width:"14px"}},[null!=e.childs&&"null"!=e.childs&&""!=e.childs?o("a",{attrs:{href:e.childs.url_key}},[o("img",{attrs:{src:e.childs.image}})]):t._e()]),t._v(" "),o("td",{staticClass:"order",domProps:{textContent:t._s(e.ao_product_name)}}),t._v(" "),o("td",{staticClass:"order",domProps:{textContent:t._s(e.ao_sku)}}),t._v(" "),o("td",{staticClass:"order-date",domProps:{textContent:t._s(e.ao_created_at)}}),t._v(" "),o("td",{staticClass:"order",domProps:{textContent:t._s(e.ao_invoice_number)}}),t._v(" "),o("td",{staticClass:"order",domProps:{textContent:t._s(e.ao_order_id)}}),t._v(" "),o("td",{staticClass:"name",domProps:{textContent:t._s(e.ao_name)}}),t._v(" "),o("td",{staticClass:"total"},[o("span",{staticClass:"rupees-icon"},[t._v("₹")]),t._v(" "+t._s(e.ao_total))]),t._v(" "),o("td",{staticClass:"order",domProps:{textContent:t._s(e.ao_status)}})])})),t._v(" "),this.archiveData.orders.length?t._e():o("tr",[o("td",[t._v("No order found")])])],2)])])])])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"address"==this.tab,expression:"this.tab=='address'"}],staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12 pb-5"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Your address")]),t._v(" "),o("div",{staticClass:"accouunt-tab-detail-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Default shipping address 🏡")]),t._v(" "),this.data.maddress&&""!=this.data.maddress?o("p",{staticClass:"adress-para"},[t._v("\n                  "+t._s(this.data.maddress.street_address)+" "+t._s(this.data.maddress.city)+" "+t._s(this.data.maddress.state)+" -\n                  "+t._s(this.data.maddress.pin_code))]):o("p",[t._v("No order found")])])]),t._v(" "),t._l(this.data.address,(function(address,i){return o("div",{key:i,staticClass:"accouunt-tab-detail-div"},[o("div",{staticClass:"adress-book-tab-div"},[o("h5",{staticClass:"poppins-semi-bold"},[t._v("Address 🏡")]),t._v(" "),o("a",{staticClass:"text-red delate-adress poppins-medium",attrs:{href:"#"}},[t._v("Delete address "),o("i",{staticClass:"icon-Close"})])]),t._v(" "),o("p",{staticClass:"adress-para"},[t._v(t._s(address.full_name)),o("span"),t._v(" "+t._s(address.street_address)),o("span"),t._v("\n                "+t._s(address.city)),o("span"),t._v(" "+t._s(address.state)),o("span"),t._v(" "+t._s(address.pin_code))]),t._v(" "),o("a",{staticClass:"sign-in-link",attrs:{href:""}},[t._v("Change address")])])}))],2)])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"account"==this.tab,expression:"this.tab=='account'"}],staticClass:"container"},[o("div",{staticClass:"row "},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Account overview")]),t._v(" "),o("div",{staticClass:"accouunt-tab-detail-div"},[this.data.full_name&&""!=this.data.full_name?o("p",[o("span",{staticClass:"poppins-semi-bold"},[t._v("Name:")]),t._v("\n                  "+t._s(this.data.full_name))]):t._e(),t._v(" "),o("p",[o("span",{staticClass:"poppins-semi-bold"},[t._v("Mobile:")]),t._v(" "+t._s(this.data.phone))]),t._v(" "),this.data.email&&""!=this.data.email?o("p",[o("span",{staticClass:"poppins-semi-bold"},[t._v("Email:")]),t._v("\n                  "+t._s(this.data.email))]):t._e(),t._v(" "),o("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){e.preventDefault(),t.reason_popup=!0}}},[t._v("Edit")])])])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("div",{staticClass:"accouunt-tab-detail-div"},[o("h4",{staticClass:"poppins-semi-bold"},[t._v("Default shipping address 🏡")]),t._v(" "),this.data.maddress&&""!=this.data.maddress?o("p",{staticClass:"adress-para"},[t._v("\n                  "+t._s(this.data.maddress.street_address)+" "+t._s(this.data.maddress.city)+" "+t._s(this.data.maddress.state)+" -\n                  "+t._s(this.data.maddress.pin_code))]):o("p",[t._v("No order found")])])])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"accouunt-tab-cont-div"},[o("div",{staticClass:"accouunt-tab-detail-div"},[o("h4",{staticClass:"checkout-in-item-bag poppins-semi-bold mt-0"},[t._v("Your "),this.data.orders.length&&this.data.orders.length<4?o("span",[t._v(t._s(this.data.orders.length))]):o("span",[t._v("4")]),t._v(" items 🎒")]),t._v(" "),o("table",{staticClass:"table order-table table-responsive"},[o("thead",[o("tr",[o("th",{staticClass:"font-bold"},[t._v("Order #")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Date")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Ship To")]),t._v(" "),o("th",{staticClass:"font-bold"},[t._v("Order Total")]),t._v(" "),o("th",{staticClass:"text-right font-bold"},[t._v("Action")])])]),t._v(" "),o("tbody",[t._l(this.data.orders,(function(e,i){return o("tr",{directives:[{name:"show",rawName:"v-show",value:i<4,expression:"i<4"}],key:i},[o("td",{staticClass:"order",domProps:{textContent:t._s(e.fynd_order_id)}}),t._v(" "),o("td",{staticClass:"order-date",domProps:{textContent:t._s(e.order_date)}}),t._v(" "),o("td",{staticClass:"name",domProps:{textContent:t._s(e.shipping_name)}}),t._v(" "),o("td",{staticClass:"total"},[o("span",{staticClass:"rupees-icon"},[t._v("₹")]),t._v(" "+t._s(e.grand_total))]),t._v(" "),o("td",{staticClass:"action text-right"},[o("nuxt-link",{staticStyle:{color:"#cf102d","text-decoration":"underline"},attrs:{to:"order/"+e.order_quote_id}},[t._v("View & Track")])],1)])})),t._v(" "),this.data.orders.length?t._e():o("tr",[o("td",[t._v("No order found")])])],2)])])])])])])]):t._e(),t._v(" "),t.reason_popup?o("div",{staticClass:"modal",class:{active:t.reason_popup},attrs:{id:"return_modal"}},[o("div",{staticClass:"over-flow"}),t._v(" "),o("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"600px"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("h3",{staticClass:"modal-title font-bold"},[t._v("Contact Information")]),t._v(" "),o("button",{staticClass:"close",staticStyle:{"background-color":"transparent",color:"#000"},attrs:{type:"button"},on:{click:function(e){t.reason_popup=!1}}},[t._v("\n            ×\n          ")])]),t._v(" "),o("div",{staticClass:"modal-body"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.update_user(e)}}},[o("div",{staticClass:"row mt-3 mb-4"},[o("div",{staticClass:"field col-md-12 col-12"},[o("div",{staticClass:"clearboth half-formfield"},[o("div",{staticClass:"inputWrapper"},[o("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.name,expression:"userInfo.name"}],staticClass:"text form-control",attrs:{type:"text",value:"",name:"customer[name]",id:"name",size:"30"},domProps:{value:t.userInfo.name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"inputWrapper"},[o("label",{staticClass:"label",attrs:{for:"mobile"}},[t._v("Mobile*")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.phone,expression:"userInfo.phone"}],staticClass:"text form-control",attrs:{type:"text",value:"",name:"customer[mobile]",id:"mobile",size:"30"},domProps:{value:t.userInfo.phone},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"phone",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"inputWrapper"},[o("label",{staticClass:"label",attrs:{for:"email"}},[t._v("Email*")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.email,expression:"userInfo.email"}],staticClass:"text form-control",attrs:{type:"text",value:"",name:"customer[email]",id:"email",size:"30"},domProps:{value:t.userInfo.email},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"email",e.target.value)}}})])])]),t._v(" "),o("div",{staticClass:"field col-md-4 col-12"},[o("button",{staticClass:"w-100 submit btn-primary-black"},[t._v("Submit")])])])])])])])]):t._e()])])}),[],!1,null,"0608a658",null);e.default=component.exports}}]);